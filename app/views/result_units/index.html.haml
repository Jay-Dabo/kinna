.btn-group
  = link_to "#{t(:create)} #{t(:tax_code)}", new_tax_code_path, class: 'btn btn-success'

.btn-group{"data-toggle" => "buttons"}
  %label.btn.btn-default
    = radio_button_tag :single_use, 'vat', true
    = t(:vat)
  %label.btn.btn-default
    = radio_button_tag :single_use, 'wage'
    = t(:wage)

.table-responsive{:ng_controller=>'ModalCtrl'}
  %table{:class => 'table table-striped'}
    %thead
      %tr
        %th.numeric= t(:code)
        %th= t(:text)
        %th
        %th
    %tbody{}
      - @tax_codes.vat.each do |tax_code|
        %tr.show-vat
          %td.numeric= tax_code.code
          %td= tax_code.text
          %td.numeric= link_to settings_icon, edit_tax_code_path(tax_code)
          %td.numeric= delete_modal_for tax_code
      - @tax_codes.wage.each do |tax_code|
        %tr.show-wage
          %td.numeric= tax_code.code
          %td= tax_code.text
          %td.numeric= link_to settings_icon, edit_tax_code_path(tax_code)
          %td.numeric= delete_modal_for tax_code
  = paginate @tax_codes, :theme => 'twitter-bootstrap-3'
  = render partial: 'shared/modal_delete', locals: {idx: 'deleteContent'}

:javascript
  $(document).ready(function () {
    $('.show-wage').toggle();
    $('input[name="single_use"]').change(function(){
        $('.show-vat').toggle();
        $('.show-wage').toggle();
    });

  });